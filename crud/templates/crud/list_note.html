{% extends 'crud/base.html' %}
{% load static %}

{% block content %}

<div class="w-full max-w-2xl mx-auto mt-6">
    <!-- Create button -->
    <div class="flex justify-end mb-6">
        <a class="inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors" 
           href="{% url 'create_note' %}">
           + Create New Note
        </a>
    </div>

    <!-- Notes list -->
    <div class="space-y-4">
        {% for note in notes %}
            <div  class="bg-white border border-gray-200 rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow">
                <!-- Title (truncate if too long) -->
                <a href="{% url 'update_note' note.id %}" class="text-lg font-semibold text-gray-800 mb-2 truncate">
                    {{ note.title }}
                </a>

                <!-- Content (snippet only) -->
                <p class="text-gray-600 mb-4 line-clamp-2">
                    {{ note.content }}
                </p>

                <span class="text-sm text-gray-400">Created: {{ note.created_at }}</span>

                <form action="{% url 'delete_note' note.id %}" method="POST">
                    {% csrf_token %}
                    <button type="submit" class="text-red-600 hover:text-red-800 transition-colors cursor-pointer">Delete</button>
                </form>
            </div>
        {% empty %}
            <p class="text-gray-500 italic">No notes yet. Create one to get started!</p>
        {% endfor %}
    </div>
</div>

{% endblock %}
